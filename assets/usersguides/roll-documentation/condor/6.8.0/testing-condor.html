<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Testing the Condor Roll</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE=" Condor Roll: Users Guide "
HREF="index.html"><LINK
REL="UP"
TITLE="Using the Condor Roll"
HREF="using.html"><LINK
REL="PREVIOUS"
TITLE="Using Condor"
HREF="using-condor.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="rocks.css"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Condor Roll: Users Guide: 		<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="images/condor.png"></SPAN
>
	</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="using-condor.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. Using the Condor Roll</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
>&nbsp;</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="TESTING-CONDOR"
>3.2. Testing the Condor Roll</A
></H1
><P
></P
><OL
TYPE="1"
><LI
><P
>First, make sure condor daemons are running by executing:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
># ps -ef | grep condor</PRE
></FONT
></TD
></TR
></TABLE
><P
>On the frontend, the output should be similar to following:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>condor    2623     1  0 Apr19 ?        00:04:26 /opt/condor/sbin/condor_master
condor    2646  2623  0 Apr19 ?        00:20:25 condor_collector -f
condor    2647  2623  0 Apr19 ?        00:04:56 condor_negotiator -f
condor    2649  2623  0 Apr19 ?        00:00:02 condor_schedd -f</PRE
></FONT
></TD
></TR
></TABLE
><P
>And on the compute nodes, the output should be similar to following:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>condor   17007     1  0 Apr19 ?        00:01:09 /opt/condor/sbin/condor_master
condor   17009 17007  0 Apr19 ?        00:00:02 condor_schedd -f
condor   17010 17007  0 Apr19 ?        00:09:09 condor_startd -f</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Try a test job submission.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
># su - condor 
$ cd ~condor/tests
$ condor_submit subs/hmmpfam3</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Check if jobs are submitted by executing:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ condor_q</PRE
></FONT
></TD
></TR
></TABLE
><P
>The output should be similar to:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>-- Submitter: rocks-155.sdsc.edu : &#60;198.202.88.155:47289&#62; : rocks-155.sdsc.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               
   1.0   condor          4/27 23:02   0+00:00:48 R  0   0.2  hmmpfam data/db100
   1.1   condor          4/27 23:02   0+00:00:46 R  0   0.2  hmmpfam data/db100
   1.2   condor          4/27 23:02   0+00:00:44 R  0   0.2  hmmpfam data/db100
   1.3   condor          4/27 23:02   0+00:00:42 R  0   0.2  hmmpfam data/db100
   1.4   condor          4/27 23:02   0+00:00:38 R  0   0.2  hmmpfam data/db100
   1.5   condor          4/27 23:02   0+00:00:36 R  0   0.2  hmmpfam data/db100
   1.6   condor          4/27 23:02   0+00:00:34 R  0   0.2  hmmpfam data/db100
   1.7   condor          4/27 23:02   0+00:00:40 R  0   0.2  hmmpfam data/db100
   1.8   condor          4/27 23:02   0+00:00:32 I  0   0.2  hmmpfam data/db100
   1.9   condor          4/27 23:02   0+00:00:30 I  0   0.2  hmmpfam data/db100</PRE
></FONT
></TD
></TR
></TABLE
><P
><EM
>R</EM
> in status column(ST) means running.
<EM
>I</EM
> means idling.
The output from the jobs will be in <EM
>results/</EM
></P
></LI
><LI
><P
>Once the queue is empty (above command shows no jobs) can see the history of
jobs execution with:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ condor_history</PRE
></FONT
></TD
></TR
></TABLE
><P
>To see all the nodes in the condor pool do:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ condor_status</PRE
></FONT
></TD
></TR
></TABLE
><P
>The output should be similar to:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Name          OpSys       Arch   State      Activity   LoadAv Mem   ActvtyTime

vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:40:04
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:45:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:45:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:45:07
vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:35:04
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:40:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:40:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:40:07
vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:25:04
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:30:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:30:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:30:07
vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:15:05
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:20:06
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:20:07
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:20:08
vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:10:04
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:15:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:15:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:15:07
vm1@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:00:04
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:05:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:05:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:05:07
vm1@compute-0 LINUX       INTEL  Owner      Idle       0.860   506  0+00:00:09
vm2@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:00:05
vm3@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:00:06
vm4@compute-0 LINUX       INTEL  Unclaimed  Idle       0.000   506  0+00:00:07

                     Machines Owner Claimed Unclaimed Matched Preempting

         INTEL/LINUX       28     1       0        27       0          0

               Total       28     1       0        27       0          0</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>The directory ~condor/tests has a few tests programs with the corresponding job submit files
for running test jobs in different condor universes.  The test programs are in bin/, and the submit 
files are in subs/. The output of the jobs, if any, goes to results/. To run these tests as condor
simply execute condor_submit command followed by the desired submit file name from subs/.
For example:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ cd ~/tests
$ condor_submit subs/hmmpfam3</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.png"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>The test program tests/bin/simple.mpi and its submit file test/subs/submit_mpi are provided
only as a reference. Current condor binaries do not work with MPI programs compiled with mpicc
version higher then v.1.2.4. If you wish to run jobs in MPI universe your programs should be
compiled with MPI versions 1.2.2 through 1.2.4. </P
></TD
></TR
></TABLE
></DIV
></LI
></OL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="using-condor.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Using Condor</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="using.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>