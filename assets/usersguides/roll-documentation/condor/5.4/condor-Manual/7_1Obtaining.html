<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>7.1 Obtaining &amp; Installing Condor</TITLE>
<META NAME="description" CONTENT="7.1 Obtaining &amp; Installing Condor">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ref.css">

<LINK REL="next" HREF="7_2Setting_up.html">
<LINK REL="previous" HREF="7_Frequently_Asked.html">
<LINK REL="up" HREF="7_Frequently_Asked.html">
<LINK REL="next" HREF="7_2Setting_up.html">
</HEAD>

<BODY  BGCOLOR=#FFFFFF >
<!--Navigation Panel-->
<A NAME="tex2html1990"
  HREF="7_2Setting_up.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1984"
  HREF="7_Frequently_Asked.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1978"
  HREF="7_Frequently_Asked.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1986"
  HREF="Contents.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1988"
  HREF="Index.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1991"
  HREF="7_2Setting_up.html">7.2 Setting up Condor</A>
<B> Up:</B> <A NAME="tex2html1985"
  HREF="7_Frequently_Asked.html">7. Frequently Asked Questions</A>
<B> Previous:</B> <A NAME="tex2html1979"
  HREF="7_Frequently_Asked.html">7. Frequently Asked Questions</A>
 &nbsp; <B>  <A NAME="tex2html1987"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1989"
  HREF="Index.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html1992"
  HREF="7_1Obtaining.html#SECTION00811000000000000000">Where can I download Condor?</A>
<LI><A NAME="tex2html1993"
  HREF="7_1Obtaining.html#SECTION00812000000000000000">When I click to download Condor, it sends me back to the downloads page!</A>
<LI><A NAME="tex2html1994"
  HREF="7_1Obtaining.html#SECTION00813000000000000000">What platforms are supported?</A>
<LI><A NAME="tex2html1995"
  HREF="7_1Obtaining.html#SECTION00814000000000000000">Can I get the source code?</A>
<LI><A NAME="tex2html1996"
  HREF="7_1Obtaining.html#SECTION00815000000000000000">What is Personal Condor?</A>
<LI><A NAME="tex2html1997"
  HREF="7_1Obtaining.html#SECTION00816000000000000000">What do I do now? My installation of Condor does not work.</A>
<LI><A NAME="tex2html1998"
  HREF="7_1Obtaining.html#SECTION00817000000000000000">After an installation of Condor, why do the daemons refuse to start?</A>
<LI><A NAME="tex2html1999"
  HREF="7_1Obtaining.html#SECTION00818000000000000000">Why do standard universe jobs never run after an upgrade?</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00810000000000000000">
7.1 Obtaining &amp; Installing Condor</A>
</H1>

<P>
<A NAME="47006"></A>

<H2><A NAME="SECTION00811000000000000000"></A>
<A NAME="47008"></A>
<A NAME="47009"></A>
<A NAME="47010"></A>
<A NAME="47011"></A>
<BR>
Where can I download Condor?
</H2>

<P>
Condor can be downloaded from the mirrors listed at
<A NAME="tex2html92"
  HREF="http://www.cs.wisc.edu/condor/downloads">http://www.cs.wisc.edu/condor/downloads</A>.  

<P>

<H2><A NAME="SECTION00812000000000000000">
When I click to download Condor, it sends me back to the downloads page!</A>
</H2>

<P>
If you are trying to download Condor through a web proxy, try
disabling it.
Our web site uses the ``referring page'' as you navigate through our
download menus in order to give you the right version of Condor, but
sometimes proxies block this information from reaching our web site.

<P>

<H2><A NAME="SECTION00813000000000000000">
What platforms are supported?</A>
</H2>

<P>
Supported platforms are listed in section&nbsp;<A HREF="1_5Availability.html#sec:Availability">1.5</A>, on
page&nbsp;<A HREF="1_5Availability.html#sec:Availability"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.
There is also platform-specific information at
Chapter&nbsp;<A HREF="6_Platform_Specific_Informa.html#platforms">6</A> on page&nbsp;<A HREF="6_Platform_Specific_Informa.html#platforms"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H2><A NAME="SECTION00814000000000000000"></A>
<A NAME="47020"></A>
<BR>
Can I get the source code?
</H2>

<P>
For Condor version 7.0.0 and later releases,
the Condor source code is available for 
public download with the binary distributions.

<P>

<H2><A NAME="SECTION00815000000000000000"></A>
<A NAME="47022"></A>
<A NAME="47023"></A>
<BR>
What is Personal Condor?
</H2>

<P>
Personal Condor is a term used to describe a specific style of Condor
installation suited for individual users who do not have their own
pool of machines, but want to submit Condor jobs to run elsewhere.

<P>
A Personal Condor is essentially a one-machine, self-contained Condor
pool which can use <I>flocking</I> to access resources in other Condor
pools.
See Section&nbsp;<A HREF="5_2Connecting_Condor.html#sec:Flocking">5.2</A>, on page&nbsp;<A HREF="5_2Connecting_Condor.html#sec:Flocking"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> for
more information on flocking.

<P>

<H2><A NAME="SECTION00816000000000000000">
What do I do now? My installation of Condor does not work.</A>
</H2>

<P>
<A NAME="47028"></A>
What to do to get Condor running properly depends on what sort of
error occurs. 
One common error category are communication errors.
Condor daemon log files report a failure to bind.
For example:

<P>
<PRE>
(date and time) Failed to bind to command ReliSock
</PRE>
<P>
Or, the errors in the various log files may be of the form:

<P>
<PRE>
(date and time) Error sending update to collector(s)
(date and time) Can't send end_of_message
(date and time) Error sending UDP update to the collector

(date and time) failed to update central manager

(date and time) Can't send EOM to the collector
</PRE>
<P>
This problem can also be observed by running <I>condor_status</I>.
It will give a message of the form:
<PRE>
Error:  Could not fetch ads --- error communication error
</PRE>
<P>
To solve this problem, understand that
Condor uses the first network interface it sees on the machine.
Since machines often have more than one interface,
this problem usually implies that the wrong network
interface is being used.  It also may be the case that
the system simply has the wrong IP address configured.

<P>
It is incorrect to use the localhost network interface.
This has IP address 127.0.0.1 on all machines.
To check if this incorrect IP address is being used,
look at the contents of the
CollectorLog file on the pool's
your central manager right after it is started.  
The contents will be of the form:

<P>
<PRE>
5/25 15:39:33 ******************************************************
5/25 15:39:33 ** condor_collector (CONDOR_COLLECTOR) STARTING UP
5/25 15:39:33 ** $CondorVersion: 6.2.0 Mar 16 2001 $
5/25 15:39:33 ** $CondorPlatform: INTEL-LINUX-GLIBC21 $
5/25 15:39:33 ** PID = 18658
5/25 15:39:33 ******************************************************
5/25 15:39:33 DaemonCore: Command Socket at &lt;128.105.101.15:9618&gt;
</PRE>
<P>
The last line tells the IP address and port the collector has
bound to and is listening on.
If the IP address is 127.0.0.1, then Condor is definitely using the wrong
network interface.

<P>
There are two solutions to this problem.
One solution changes the order of the network interfaces.
The preferred solution
sets which network interface Condor should use
by adding the following parameter to the
local Condor configuration file:

<P>
<PRE>
NETWORK_INTERFACE = machine-ip-address
</PRE>

<P>
Where <code>machine-ip-address</code> is the IP address of the interface you wish
Condor to use.

<P>

<H2><A NAME="SECTION00817000000000000000">
After an installation of Condor, why do the daemons refuse to start?</A>
</H2>

<P>
This message appears in the log files:
<PRE>
ERROR "The following configuration macros appear to contain default values 
that must be changed before Condor will run.  These macros are:
hostallow_write 
(found on line 1853 of /scratch/adesmet/TRUNK/work/src/localdir/condor_config)"
at line 217 in file condor_config.C
</PRE>
<P>
As of Condor 6.8.0, if 
Condor sees the bare key word: 
<TT>YOU_MUST_CHANGE_THIS_INVALID_CONDOR_CONFIGURATION_VALUE</TT>
as the value of a configuration file entry,
Condor daemons will log the given error message and exit.

<P>
By default, an installation of Condor 6.8.0 and later releases
will have the
configuration file entry <TT>HOSTALLOW_WRITE</TT> set to the above sentinel
value. 
The Condor administrator must alter this value to be the correct domain
or IP addresses that the administrator desires.
The wild card character (<code>*</code>) may be used to define this entry,
but that allows anyone, from anywhere,
to submit jobs into the pool.
A better value will be of the form <TT>*.domainname.com</TT>.

<P>

<H2><A NAME="SECTION00818000000000000000"></A>
<A NAME="sec:checkpoint-platform-faq"></A>
<BR>
Why do standard universe jobs never run after an upgrade?
</H2>

<P>
Standard universe jobs that remain in the job queue across an upgrade
from any Condor release previous to 6.7.15
to any Condor release of 6.7.15 or more recent
cannot run.
They are missing a required ClassAd attribute
(<TT>LastCheckpointPlatform</TT>) added for
all standard universe jobs as of Condor version 6.7.15.
This new attribute describes the platform where a job was
running when it produced a checkpoint.
The attribute is utilized to identify platforms capable of 
continuing the job (using the checkpoint).

<P>
This attribute becomes necessary due to bugs in some Linux kernels.
A standard universe job may be continued on some, but not all
Linux machines.
And, the <TT>CkptOpSys</TT> attribute is not specific enough
to be utilized.

<P>
There are two possible solutions for these standard universe jobs that
cannot run, yet are in the queue:

<P>

<OL>
<LI>Remove and resubmit the standard universe jobs that
  remain in the queue across the upgrade. 
  This includes all standard universe jobs that have flocked in to 
  the pool.
  Note that the resubmitted jobs will start over again from the beginning.

<P>
</LI>
<LI>For each standard universe job in the queue,
  modify its job ClassAd such that it can possibly run within the
  upgraded pool.
  If the job has already run and produced a checkpoint on a machine
  before the upgrade, determine the machine that produced the checkpoint
  using the <TT>LastRemoteHost</TT> attribute
  in the job's ClassAd.
  Then look at that machine's ClassAd (after the upgrade) to
  determine and extract the value of the <TT>CheckpointPlatform</TT> attribute.
  Add this (using <I>condor_qedit</I>) as the value of the 
  new attribute <TT>LastCheckpointPlatform</TT> in the job's ClassAd.
  Note that this operation must also have to be performed on standard
  universe jobs flocking in to an upgraded pool. 
  It is recommended that pools that flock between each other upgrade to a
  post 6.7.15 version of Condor.
</LI>
</OL>

<P>
Note that if the upgrade to Condor takes place at the same time
as a platform change (such as booting an upgraded kernel),
there is no way to properly set the <TT>LastCheckpointPlatform</TT> attribute.
The only option is to remove and resubmit the standard universe jobs.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1990"
  HREF="7_2Setting_up.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1984"
  HREF="7_Frequently_Asked.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1978"
  HREF="7_Frequently_Asked.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1986"
  HREF="Contents.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1988"
  HREF="Index.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1991"
  HREF="7_2Setting_up.html">7.2 Setting up Condor</A>
<B> Up:</B> <A NAME="tex2html1985"
  HREF="7_Frequently_Asked.html">7. Frequently Asked Questions</A>
<B> Previous:</B> <A NAME="tex2html1979"
  HREF="7_Frequently_Asked.html">7. Frequently Asked Questions</A>
 &nbsp; <B>  <A NAME="tex2html1987"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1989"
  HREF="Index.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
condor-admin@cs.wisc.edu
</ADDRESS>
</BODY>
</HTML>
