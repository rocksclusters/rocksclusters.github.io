<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>8.5 Stable Release Series 7.2</TITLE>
<META NAME="description" CONTENT="8.5 Stable Release Series 7.2">
<META NAME="keywords" CONTENT="ref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ref.css">

<LINK REL="next" HREF="8_6Development_Release.html">
<LINK REL="previous" HREF="8_4Development_Release.html">
<LINK REL="up" HREF="8_Version_History.html">
<LINK REL="next" HREF="8_6Development_Release.html">
</HEAD>

<BODY  BGCOLOR=#FFFFFF >
<!--Navigation Panel-->
<A NAME="tex2html2279"
  HREF="8_6Development_Release.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2273"
  HREF="8_Version_History.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2267"
  HREF="8_4Development_Release.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2275"
  HREF="Contents.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2277"
  HREF="Index.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2280"
  HREF="8_6Development_Release.html">8.6 Development Release Series</A>
<B> Up:</B> <A NAME="tex2html2274"
  HREF="8_Version_History.html">8. Version History and</A>
<B> Previous:</B> <A NAME="tex2html2268"
  HREF="8_4Development_Release.html">8.4 Development Release Series</A>
 &nbsp; <B>  <A NAME="tex2html2276"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html2278"
  HREF="Index.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2281"
  HREF="8_5Stable_Release.html#SECTION00951000000000000000">Version 7.2.4</A>
<LI><A NAME="tex2html2282"
  HREF="8_5Stable_Release.html#SECTION00952000000000000000">Version 7.2.3</A>
<LI><A NAME="tex2html2283"
  HREF="8_5Stable_Release.html#SECTION00953000000000000000">Version 7.2.2</A>
<LI><A NAME="tex2html2284"
  HREF="8_5Stable_Release.html#SECTION00954000000000000000">Version 7.2.1</A>
<LI><A NAME="tex2html2285"
  HREF="8_5Stable_Release.html#SECTION00955000000000000000">Version 7.2.0</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00950000000000000000"></A><A NAME="sec:History-7-2"></A>
<BR>
8.5 Stable Release Series 7.2
</H1>

<P>
This is a stable release series of Condor.
As usual, only bug fixes (and potentially, ports to new platforms)
will be provided in future 7.2.x releases.
New features will be added in the 7.3.x development series.

<P>
The details of each version are described below.

<P>

<H2><A NAME="SECTION00951000000000000000"></A><A NAME="sec:New-7-2-4"></A>
<BR>
Version 7.2.4
</H2>

<P>
Release Notes:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
New Features:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Configuration Variable Additions and Changes:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Bugs Fixed:

<P>

<UL>
<LI>Fixed a bug in the checkpoint server that caused failure of
checkpoint image storage and retrieval if the requesting submission
machine was running a 32-bit installation of Condor and the checkpoint
server was from a 64 bit installation, or vice versa. The checkpoint
image server, both the 32-bit and 64-bit installation, now handles both
protocols. It is recommended that any checkpoint server installation which
may be used in a flocking situation or other federated joining of pools
use the 64-bit binary. This is due to the possibility that there could be
a checkpoint image larger than what is representable in 32 bits. A 32-bit
checkpoint image server will now notice if this situation occurs and log
a message suggesting an upgrade to the 64-bit version.

<P>
</LI>
<LI>Fixed a bug that caused <I>condor_procd</I> to sometimes fail when monitoring
processes with environments larger than 1MB.

<P>
</LI>
<LI>Fixed a bug that caused <I>condor_dagman</I> to fail in recovery mode on
a DAG in which any nodes had been retried.

<P>
</LI>
<LI>Xen-based virtual machines now have the correct amount of memory.
Previously, the amount of memory was too small by a factor of 1024.

<P>
</LI>
<LI>Fixed a bug in the handling of <TT>$$(VARIABLE)</TT> submit
  file expressions.

<P>
</LI>
<LI>Fixed a bug in the code related to <TT>USE_VISIBLE_DESKTOP</TT> 
  that was causing the windows created by the job behave incorrectly.

<P>
</LI>
<LI>Fixed a bug that caused Stork to treat successful file transfers
as failed.

<P>
</LI>
<LI>Fixed several bugs in the user log reader in the handling of
  files of size zero.

<P>
</LI>
<LI>Fixed a problem affecting parallel universe jobs with very short
tasks.  If any of the parallel tasks exited before the first node
started, the entire job was prematurely treated as though it had
finished.  If the job ClassAd attribute <TT>ParallelShutdownPolicy</TT> was
set to <TT>"WAIT_FOR_ALL"</TT>, the job was prematurely treated as though it
had finished if all stated tasks completed before the remaining tasks
started.

<P>
</LI>
</UL>

<P>
Known Bugs:

<P>

<UL>
<LI>Occasionally, Condor daemons will, for unknown reasons, bind the
  command socket to the invalid IP address of 0.0.0.0, resulting in
  the daemon crashing or otherwise malfunctioning.  The command socket
  address is always logged in the daemon's log, so the condition can
  be detected by looking for a line like in the daemon's log header
  with the address of 0.0.0.0 as in:
<PRE>
5/6 16:34:26 DaemonCore: Command Socket at &lt;0.0.0.0:53795&gt;
</PRE>
  If you encounter this problem, please send an e-mail to
  condor-admin@cs.wisc.edu with any relevant details.

<P>
</LI>
</UL>

<P>
Additions and Changes to the Manual:

<P>

<UL>
<LI>Descriptions and definitions of all commands that may be placed within
  the submit description file have been moved from the <I>condor_submit</I> 
  manual page to section&nbsp;<A HREF="#sec:submit-cmds"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI>Added a description of the configuration variable
  <TT>NEGOTIATOR_MATCHLIST_CACHING</TT>.
  See <A HREF="3_3Configuration.html#param:NegotiatorMatchlistCaching">3.3.17</A> for the definition.

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00952000000000000000"></A><A NAME="sec:New-7-2-3"></A>
<BR>
Version 7.2.3
</H2>

<P>
Release Notes:

<P>

<UL>
<LI>The header files for ClassAds are now included within the release.

<P>
</LI>
</UL>

<P>
New Features:

<P>

<UL>
<LI>Enhanced the Debian 5.0 Condor port on the x86_64 platform to 
include support for the standard universe. 

<P>
</LI>
</UL>

<P>
Configuration Variable Additions and Changes:

<P>

<UL>
<LI>The new integer configuration variable
  <TT>SEC_TCP_SESSION_DEADLINE</TT> <A NAME="52032"></A> <A NAME="52033"></A> specifies the
  number of seconds after which the client should give up its attempt to
  establish a security session with a daemon that it is connecting to.
  The default value is 120 seconds.

<P>
</LI>
<LI>The new configuration variables <TT>SCHEDD_CLUSTER_INITIAL_VALUE</TT> <A NAME="52037"></A> <A NAME="52038"></A>
  and <TT>SCHEDD_CLUSTER_INCREMENT_VALUE</TT> <A NAME="52042"></A> <A NAME="52043"></A> are integers that 
  specify the cluster number to use for the first job submission,
  and the stride used to increment the cluster id upon successive submissions.
  See <A HREF="3_3Configuration.html#param:ScheddClusterInitialValue">3.3.11</A> and
  <A HREF="3_3Configuration.html#param:ScheddClusterIncrementValue">3.3.11</A>
  for the complete definitions of these variables.

<P>
</LI>
</UL>

<P>
Bugs Fixed:

<P>

<UL>
<LI>Fixed a memory leak in the <I>condor_collector</I> daemon.
  The growth in memory over time was approximately 10Mbytes per day
  per 1000 slots.
  This bug was introduced in Condor version 7.2.0.

<P>
</LI>
<LI>Fixed a problem that caused integrity checking of most UDP packets
  longer than about 40Kbytes to fail.
  This bug affected all previous versions of Condor.

<P>
</LI>
<LI>By adding the new configuration variable
  <TT>SEC_TCP_SESSION_DEADLINE</TT>, fixed a problem
  that has existed since Condor version 7.1.2. 
  The problem was that non-blocking read
  operations in the security handshake had no timeout,
  and could therefore lead to a socket remaining allocated indefinitely,
  if the other side of the connection did not respond.
  When this problem was observed,
  the following message appeared in the log written by the <I>condor_schedd</I>
  daemon:
<PRE>
  file descriptor safety level exceeded
</PRE>

<P>
</LI>
<LI>Fixed a rarely observed bug in the event log reader code
  that could cause it to not detect missed events.

<P>
</LI>
<LI>A bug in the Chirp java client has been fixed.
  The ChirpInputStream's <TT>read()</TT> method was returning
  negative values when encountering binary data.

<P>
</LI>
<LI><I>condor_dagman</I> now rejects negative node retry values.

<P>
</LI>
<LI><I>condor_dagman</I> no longer generates a rescue DAG if the DAG is
  aborted, but is considered successful;
  this is when ABORT-DAG-ON returns the value 0.

<P>
</LI>
<LI>The user log event numbered 27,
  named <TT>"Job submitted to grid resource"</TT>,
  is now written for all grid universe jobs.
  Previously, it was not written for pbs, lsf, nordugrid, or unicore grid types.

<P>
</LI>
<LI>Fixed a bug where a Condor-C job with both <TT>remote_&lt;foo&gt;</TT>
and <TT>remote_remote_&lt;foo&gt;</TT> attributes would not have a
<TT>remote_&lt;foo&gt;</TT> attribute when submitted to the remote
<I>condor_schedd</I> daemon.

<P>
</LI>
<LI>Fixed a bug in <I>condor_configure</I> and <I>condor_install</I> that would
  leave the configuration variable <TT>CONDOR_HOST</TT> unset when
  configuring a central manager without using the <I>-central-manager</I>
  command-line argument.

<P>
</LI>
<LI>Fixed a bug that could cause the <I>condor_schedd</I> daemon
  to leak memory and file descriptors when using the
  <TT>EVENT_LOG</TT> configuration variable.

<P>
</LI>
<LI>Fixed a bug in the <I>condor_gridmanager</I> that could cause it to
not send a clean up signal to the GRAM jobmanager for removed gt2 jobs.

<P>
</LI>
<LI>Fixed a bug that caused parallel jobs to not work when
encryption was enabled.

<P>
</LI>
<LI>Fixed a bug in the Windows installer that caused it to fail to start
Condor.

<P>
</LI>
</UL>

<P>
Known Bugs:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Additions and Changes to the Manual:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00953000000000000000"></A><A NAME="sec:New-7-2-2"></A>
<BR>
Version 7.2.2
</H2>

<P>
Release Notes:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
New Features:

<P>

<UL>
<LI>Added a full port of Condor to Debian 5.0 on the x86 platform.

<P>
</LI>
<LI>Added a clipped port of Condor to Debian 5.0 on the x86_64 platform.

<P>
</LI>
<LI>Added the <B>-DumpRescue</B> command-line flag to <I>condor_dagman</I>
and <I>condor_submit_dag</I>.  This flag is intended mainly for testing.

<P>
</LI>
<LI>Added support for the <B>-debug</B> option to <I>condor_qedit</I>.

<P>
</LI>
<LI>The Job Router now uses a time slice timer for periodic expression
  evaluation, similar to the <I>condor_schedd</I> daemon.
  The evaluation interval is controlled by 
  the configuration variable <TT>PERIODIC_EXPR_INTERVAL</TT>,
  and defaults to 60 seconds, the same default value used by
  the <I>condor_schedd</I> daemon.

<P>
</LI>
<LI>The Job Router now resets the source job, if a failure occurs when
  updating the <I>condor_schedd</I> daemon for a periodic expression that
  evaluated to <TT>True</TT>.  The job's periodic expressions should be
  evaluated again some time in the future with a successful update.

<P>
</LI>
</UL>

<P>
Configuration Variable Additions and Changes:

<P>

<UL>
<LI>The new boolean configuration variable
  <TT>EVENT_LOG_FSYNC</TT> <A NAME="52093"></A> <A NAME="52094"></A> provides control of the behavior of
  Condor when writing events to the event log.  Previously,
  the behavior was as if this parameter were set to <TT>False</TT>.
  See <A HREF="3_3Configuration.html#param:EventLogFsync">3.3.4</A> for the complete definition of
  this variable.

<P>
</LI>
<LI>The new boolean configuration variable
  <TT>EVENT_LOG_LOCKING</TT> <A NAME="52099"></A> <A NAME="52100"></A> provides control of the behavior of
  Condor when writing events to the event log.  Previously,
  the behavior was controlled by <TT>ENABLE_USERLOG_LOCKING</TT>.
  See <A HREF="3_3Configuration.html#param:EventLogLocking">3.3.4</A> for the complete definition of
  this variable.

<P>
</LI>
<LI>The new string configuration variable <TT>TRANSFERER</TT> <A NAME="52105"></A> <A NAME="52106"></A>
  specifies the path to the <I>condor_transferer</I> program which is
  invoked by the <I>condor_replication</I> daemon to perform the actual
  transfer of the file set by <TT>STATE_FILE</TT>.
  This is part of the high availability framework.
  Prior to Condor 7.2.2, the value of <TT>TRANSFERER</TT> was hard coded to
  <TT><TT>$(RELEASE_DIR)</TT>/sbin/condor_transferer</TT>.  The use of
  this hard coded behavior should be considered obsolete behavior, and
  will be removed in a future version of Condor.

<P>
</LI>
<LI>The <TT>PREEMPTION_REQUIREMENTS</TT> and the <TT>RANK</TT>
  expression in the matchmaker can now reference many more ClassAd
  attributes than just <TT>SubmittorPrio</TT>.  New attributes allow
  this expression to take into account resources currently in use, as
  well as group usage and quota info.  New attributes are:
  <TT>SubmitterUserResourcesInUse</TT>,
  <TT>RemoteUserResourcesInUse</TT>,
  <TT>RemoteGroupResourcesInUse</TT>, <TT>RemoteGroupQuota</TT>,
  <TT>SubmitterGroupResourcesInUse</TT>,
  <TT>SubmitterGroupQuota</TT>.

<P>
</LI>
<LI>Added <TT>JOB_ROUTER_ATTRS_TO_COPY</TT> configuration
  option. This is a comma separated list of attributes that the Job
  Router should copy from the routed ad to the source ad in addition
  to internally hard coded attributes that are copied.

<P>
</LI>
<LI>Added <TT>JOB_ROUTER_RELEASE_ON_HOLD</TT>. configuration
  option that will control whether the Job Router will reset the
  source job to an untouched state if it needs to yield the job
  because the routed job went on hold.  The option defaults to
  resetting the source job.

<P>
</LI>
<LI>The new configuration variables <TT>PREEMPTION_REQUIREMENTS_STABLE</TT> <A NAME="52130"></A> <A NAME="52131"></A>
  and <TT>PREEMPTION_RANK_STABLE</TT> <A NAME="52135"></A> <A NAME="52136"></A> identify for Condor if all
  attributes in the variables <TT>PREEMPTION_REQUIREMENTS</TT> and
  <TT>PREEMPTION_RANK</TT> will not change within
  a negotiation interval.

<P>
</LI>
<LI>The new configuration variables <TT>OFFLINE_LOG</TT> <A NAME="52142"></A> <A NAME="52143"></A>
  and <TT>OFFLINE_EXPIRE_ADS_AFTER</TT> <A NAME="52147"></A> <A NAME="52148"></A> specify the location of
  persistent machine ClassAds for hibernating machines,
  as well as the lifetime of the persistent ClassAds.

<P>
</LI>
</UL>

<P>
Bugs Fixed:

<P>

<UL>
<LI>Fixed the <I>condor_collector</I> daemon such that hibernating machines
  never time out.

<P>
</LI>
<LI>Fixed incorrectly set ClassAd attribute values of machines
  entering a hibernation state.
  All hibernating machines are unclaimed and idle,
  they have no load, the CPU is not busy, and
  the keyboard and console appear as if they had been idle for a long time.

<P>
</LI>
<LI>Fixed a bug where if any idle slot satisfied the
  <TT>HIBERNATE</TT> expression, Condor would put the machine into a
  sleep state irrespective of any active slots.

<P>
</LI>
<LI>Fixed a bug on Windows that made it impossible to use
  the defined string <code>"S5"</code> for hibernation.

<P>
</LI>
<LI>Fixed a bug in the <I>condor_starter</I> where it would be running as
  real uid condor after job hooks are invoked which causes issues when
  accessing files.

<P>
</LI>
<LI>Fixed a bug where some machines would send a final update ad to
  the <I>condor_collector</I>, invalidating the persistent one that was
  previously sent (when <TT>HIBERNATE</TT> evaluates to <TT>True</TT>).
  This had the effect of dropping the machine out of the pool once the
  ad had grown stale.

<P>
</LI>
<LI>Fixed a bug where any two Condor daemons on Windows were able to
  bind to the same port at the same time.

<P>
</LI>
<LI>Fixed the behavior of the <I>condor_negotiator</I> so that when a
  Condor-G matchmaking ad matches, the machine's ad will be shuffled
  to the end for round-robin matching to multiple gatekeepers with the
  same rank.

<P>
</LI>
<LI>Resolved a bug in which the submit description file command
  <B>vm_macaddr</B> was improperly parsed,
  and thus ignored, by <I>condor_submit</I> for vm universe jobs.

<P>
</LI>
<LI>Condor's Windows zip file distribution now includes the new
  C/C++ runtime libraries.

<P>
</LI>
<LI>Fixed a Windows platform bug for jobs that enable streaming I/O.
  The bug caused the <I>condor_starter</I> to crash upon invocation of the
  job.

<P>
</LI>
<LI>Fixed a bug in which an ill-formed network packet could crash a
Condor daemon.  This would not be seen in normal Condor operation, but
sometimes port-scanning software could trigger such a crash.

<P>
</LI>
<LI>Fixed a bug in which <I>condor_q</I> would sometimes exit with 
  the value zero, indicating success,
  when it could not connect to a <I>condor_schedd</I> daemon.
  It now exits with an error code.

<P>
</LI>
<LI>Fixed two seemingly small memory leaks in Condor's SOAP
interface. A small amount of memory was lost per SOAP transaction. On
a high traffic machine, this leak would eventually render the
<I>condor_schedd</I> daemon unresponsive.

<P>
</LI>
<LI>Fixed a bug in the parallel universe where periodic expressions
involving the <TT>JobStatus</TT> attribute would not function properly.

<P>
</LI>
<LI>Fixed a bug where Condor daemons could segmentation fault while trying
to write a core file to disk in the Unix ports.

<P>
</LI>
<LI>Fixed a bug in which the use of dedicated execute accounts
(indicated by use of the configuration variable
<TT>DEDICATED_EXECUTE_ACCOUNT_REGEXP</TT>) did not work properly
in PrivSep mode: those with the configuration variable
<TT>PRIVSEP_ENABLED</TT> set to <TT>True</TT>.

<P>
</LI>
<LI>Fixed an erroneous log message that reported that
the hook defined by <TT>HOOK_UPDATE_JOB_INFO</TT> <A NAME="52178"></A> <A NAME="52179"></A> had run,
but would print the <TT>$(HOOK_PREPARE_JOB)</TT> path.
The correct hook ran, so this was only a logging error.
The log message is only visible at the <TT>D_FULLDEBUG</TT> level.

<P>
</LI>
<LI>Fixed a bug that caused <I>condor_dagman</I> to crash if the
<TT>dagman.out</TT> file reached a size of 2 GBytes.

<P>
</LI>
<LI>Fixed a problem affecting the <I>condor_starter</I> when in PrivSep mode.
After the user job exited, an error was printed in the
<I>condor_starter</I> log file complaining that it failed to <I>chown</I> the
sandbox to Condor ownership.  This error was not actually harmful,
just noisy.

<P>
</LI>
<LI>Fixed a bug in the <I>condor_master</I> that caused it to not have
  <TT>REPLICATION</TT> in its default list for <TT>DC_DAEMON_LIST</TT>.
  The example
  configuration file for HAD has been updated to match, as well.

<P>
</LI>
<LI>Fixed the <I>condor_transferer</I> daemon and documentation to consistently
  use the value of the configuration variable 
  <TT>MAX_TRANSFERER_LIFETIME</TT> in High Availability code.

<P>
</LI>
<LI>Fixed a bug that caused <I>condor_dagman</I> to crash,
if a splice DAG has node categories.

<P>
</LI>
<LI>Changed splice-related <I>condor_dagman</I> debug messages
to <I>not</I> be printed at the default verbosity.
They are now mostly printed at debug level 4.
For definitions of the debug levels, see the <I>condor_dagman</I> manual
page at section&nbsp; <A HREF="condor_dagman.html#man-condor-dagman">9</A>.

<P>
</LI>
<LI>Fixed a bug that caused the <I>condor_replication</I> daemon,
  as part of the high availability framework,
  to start the <I>condor_transferer</I> client incorrectly; the end result was
  that the <I>condor_transferer</I> was unable to authenticate via GSI
  using host-based certificates.

<P>
</LI>
<LI>Fixed a bug in which the ClassAd attribute <TT>RemoteWallClockTime</TT>
  could get too big after a restart of the <I>condor_schedd</I> daemon,
  for jobs that were running at the time of the restart.

<P>
</LI>
<LI>Fixed a bug that was causing the <I>condor_startd</I> to log the
  error message 
<PRE>
  ioctl(SIOCETHTOOL/GWOL) failed: Operation not permitted (1)
</PRE>
  when started as a Personal Condor on Linux.
  The message is now suppressed in this case.  When the message is
  printed, an additional message is logged informing the user that
  this error can be ignored, unless hibernation is being used.

<P>
</LI>
<LI>Fixed a bug that was causing the <I>condor_startd</I> to sometimes
  publish the network adapter's hardware address incorrectly in its
  ClassAd.

<P>
</LI>
<LI>Fixed a case in which <I>condor_history</I> could get into an infinite
loop when searching through a corrupted history file.

<P>
</LI>
<LI>Fixed a bug in the user log reader code that could cause it to
  get into an inconsistent state after detecting missed events.

<P>
</LI>
<LI>Condor version 7.2.2 and previous releases do not support 
  communication with Condor 7.3.x daemons using the new 7.3.x
  configuration variables <TT>CCB_ADDRESS</TT> or
  <TT>PRIVATE_NETWORK_NAME</TT>.
  The version 7.2.2 <I>condor_collector</I> daemon now
  recognizes when it is receiving ClassAds from such daemons,
  and it will reject them.
  In prior versions, Condor would accept the ClassAds,
  but attempts to use them led to unexpected behavior.

<P>
</LI>
</UL>

<P>
Known Bugs:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Additions and Changes to the Manual:

<P>

<UL>
<LI>A manual page for <I>condor_power</I> now appears in the manual.
<I>condor_power</I> sends a packet to a machine in a low power state,
to cause the machine to wake from that state.

<P>
</LI>
<LI>Reorganized the user manual section that describes DAGMan.

<P>
</LI>
<LI>Added a note about the fact that environment values specified
with the <B>environment</B> submit description file command override values from
the submittor's environment, as imported with <B>getenv = True</B>.

<P>
</LI>
<LI>Added new information to the section on Power Management
  pertaining to the handling of hibernating machines.

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00954000000000000000"></A><A NAME="sec:New-7-2-1"></A>
<BR>
Version 7.2.1
</H2>

<P>
Release Notes:

<P>

<UL>
<LI>This release addresses reported 7.2.0 problems with the
Windows distribution.

<P>
</LI>
</UL>

<P>
New Features:

<P>

<UL>
<LI>Condor now has a clipped port to i386 Debian 5.0 (Lenny).

<P>
</LI>
<LI>Added standard universe support for <I>gfortran</I>.

<P>
</LI>
<LI>Added support for standard output and standard error to be greater
than 2 Gigabytes.

<P>
</LI>
</UL>

<P>
Configuration Variable Additions and Changes:

<P>

<UL>
<LI>The configuration variable <TT>JAVA_MAXHEAP_ARGUMENT</TT> <A NAME="52234"></A> <A NAME="52235"></A> now
defaults to the value <B>-Xmx1024m</B>.  The installation process of
Condor resets this value to <TT>UNDEFINED</TT> in the local
configuration file, if the detected JVM is not from Sun Microsystems.

<P>
</LI>
<LI>A new feature has been added to the <I>condor_master</I> that makes
it possible to append to the <TT>DC_DAEMON_LIST</TT> configuration
variable, instead of overwriting it.  To take advantage of this, place
the plus character ('<code>+</code>') as the first character in the
<TT>DC_DAEMON_LIST</TT> definition.  For example:
<PRE>
  DAEMON_LIST     = NEW_DAEMON
  DC_DAEMON_LIST  = +NEW_DAEMON
</PRE>

<P>
</LI>
<LI>The new configuration variable <TT>DAGMAN_COPY_TO_SPOOL</TT> <A NAME="52246"></A> <A NAME="52247"></A>
controls whether the <I>condor_dagman</I> binary gets copied to the spool
directory when a DAG is submitted.  See <A HREF="3_3Configuration.html#param:DAGManCopyToSpool">3.3.26</A>
for details.

<P>
</LI>
<LI>Added <B>-version</B> and <B>-help</B> command line options to
<I>condor_submit_dag</I>.

<P>
</LI>
</UL>

<P>
Bugs Fixed:

<P>

<UL>
<LI>Fixed a bug in the <I>condor_collector</I> which could cause it
to hang indefinitely while reading network input in rare conditions.

<P>
</LI>
<LI>Fixed a bug in <I>condor_chirp</I> for Windows which was causing it
to crash on invocation.

<P>
</LI>
<LI>Fixed a bug in the Windows <I>condor_mail</I> program, which was causing
it to become unresponsive when run.  If left running, the application also
increased its memory consumption.

<P>
</LI>
<LI>Fixed a bug that could cause the <I>condor_schedd</I> to never
evaluate periodic expressions.

<P>
</LI>
<LI>Fixed a bug on Unix platforms where <I>condor_configure</I> would
provide incorrect defaults for the <TT>JAVA_MAXHEAP_ARGUMENT</TT>
attribute in the installed configuration files. The new current
default for Sun Java JVMs is <B>-Xmx1024m</B>.

<P>
</LI>
<LI>Fixed a bug on Unix platforms where <I>condor_configure</I> would
imply that using the Unix user <TT>root</TT> or UID 0 for the
<B>-owner</B> option is a good thing.  It is not, and would then complain
that it could not find user <TT>root</TT> in the password file.

<P>
</LI>
<LI>Fixed a bug on Unix platforms where <I>condor_configure</I> would
emit errors about not being able to execute <I>ldd</I> when installing
Condor on the Mac OS X 10.5 platform.  <I>condor_configure</I> now
correctly detects shared library requirements when installing the
Condor binaries on the Mac OS X 10.5 platform.

<P>
</LI>
<LI>Fixed a bug where execute-side daemons started before the
<I>condor_credd</I> would fail to match with Windows jobs with
<B>run_as_owner</B> set.  This condition persisted until the
execute-side daemons were either restarted or reconfigured.

<P>
</LI>
<LI>Fixed a problem affecting the Job Router and Condor-C.  When jobs
spool input files, they enter a temporary hold state, which could
trigger actions by a naive periodic remove or release expression.
Periodic expressions are no longer evaluated when in this temporary
hold state, which has the hold reason <TT>"Spooling input data files"</TT>.

<P>
</LI>
<LI>The example init script <I>condor.boot.generic</I> erroneously claimed
that the <I>condor_master</I> would begin sending SIGKILL to child
processes after 20 seconds if SIGQUIT (the fast shutdown) failed.  The
<I>condor_master</I> will actually wait <TT>$(SHUTDOWN_FAST_TIMEOUT)</TT>
seconds, a value that currently defaults to 300 seconds.

<P>
</LI>
<LI>Environment variable names are now properly treated as
case-insensitive on Windows. The most common symptom of this bug was
the inability to specify a custom <TT>PATH</TT> environment variable
for a job from its submit description file.

<P>
</LI>
<LI>Changed <I>condor_submit</I> <B>-debug</B> to issue a warning when ignoring
environment variables. This occurs with <B>getenv = True</B> set
in a submit description file.

<P>
</LI>
<LI>Fixed a long-standing memory leak in SOAP interface.
This caused the leak of a few hundred bytes of memory for each connection.
This could eventually have caused the <I>condor_schedd</I> daemon to crash.

<P>
</LI>
<LI>Fixed Job Router hooks so that their output is properly
propagated where appropriate.

<P>
</LI>
<LI>Implemented a fix for the <I>condor_startd</I> that prevents it from
crashing if the user specified the configuration variable
<TT>NUM_SLOTS_TYPE_N</TT>, without also specifying <TT>SLOT_TYPE_N</TT>.

<P>
</LI>
<LI>The sample configuration files now correctly set the default
universe to vanilla.  This default has been true since 7.2.0,
but was not reflected in the sample configuration files.

<P>
</LI>
<LI>Fixed a bug that incorrectly set the value of the
job ClassAd attribute <TT>RequestMemory</TT> to be 1024 times its
correct size due to a mismatch in units;
the attribute <TT>RequestMemory</TT> is given in Mbytes, while
the attribute <TT>ImageSize</TT> is given in Kbytes.

<P>
</LI>
<LI>Fixed a memory leak in <I>condor_dagman</I> that leaked a small
amount of memory for each job submitted.

<P>
</LI>
<LI>Fixed a bug that was causing the network mask to be advertised
as a Condor sinful string, rather than a dotted-quad.

<P>
</LI>
<LI>Fixed a handle leak in the <I>condor_procd</I> on Windows.

<P>
</LI>
</UL>

<P>
Known Bugs:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Additions and Changes to the Manual:

<P>

<UL>
<LI>Added a FAQ entry for Windows describing how machines
with miss-configured performance counters may cause the <I>condor_procd</I>
to crash.

<P>
</LI>
<LI>Added a manual page for the command <I>condor_router_history</I>.

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00955000000000000000"></A><A NAME="sec:New-7-2-0"></A>
<BR>
Version 7.2.0
</H2>

<P>
Release Notes:

<P>

<UL>
<LI>A bug in some older Xen kernels can result in Condor errors
due to a broken assumption in the <I>condor_procd</I> daemon.
See the FAQ entry at section&nbsp; <A HREF="7_7Troubleshooting.html#sec:xen-jiffies-bug">7.7</A> for details.

<P>
</LI>
<LI>A problem has been discovered when using snapshot disks with 
<B>vm</B> universe VMware jobs,
if the path that the <I>condor_vm-gahp</I> uses to refer to the
virtual machine's VMX file contains a symbolic link.
See the FAQ entry at section&nbsp; <A HREF="7_3Running_Condor.html#sec:vmware-symlink-bug">7.3</A> for details.

<P>
</LI>
<LI>The name of the Amazon EC2 GAHP binary has changed from
<I>amazon-gahp</I> to <I>amazon_gahp</I>. This makes it consistent
with the naming of other Condor binaries.

<P>
</LI>
</UL>

<P>
New Features:

<P>

<UL>
<LI>The default <B>universe</B> for jobs is now 
<B>vanilla</B>, instead of <B>standard</B>.
The default can be changed using the configuration variable
<TT>DEFAULT_UNIVERSE</TT> <A NAME="52326"></A> <A NAME="52327"></A>.

<P>
</LI>
<LI>VMware <B>vm</B> universe jobs now have any BIOS settings saved in
an <TT>nvram</TT> file in the <B>vmware_dir</B> given in the
job's submit file transferred to the execute machine, so that they
apply to the job's execution.

<P>
</LI>
<LI>Daemons that become unresponsive are now killed using the
SIGABRT signal, which causes a core file to be dropped.
Setting the configuration variable <TT>NOT_RESPONDING_WANT_CORE</TT> <A NAME="52334"></A> <A NAME="52335"></A>
to <TT>False</TT> will revert to the previous behavior that used
the SIGKILL signal.

<P>
</LI>
<LI>The <I>condor_job_router</I> and the
<I>condor_q</I> command with the <B>-better-analyze</B> option now
support more ClassAd functions than they previously did.  They now
support all ClassAd functions, except for those with names beginning
with the string <TT>stringList</TT>.

<P>
</LI>
<LI><I>condor_status</I> given the options <B>-submitters</B> <B>-xml</B>
no longer emits a single blank line when there are no submitters,
instead it prints valid XML output with an empty body.

<P>
</LI>
</UL>

<P>
Configuration Variable Additions and Changes:

<P>

<UL>
<LI>The HAD configuration variable <TT>NEGOTIATOR_STATE_FILE</TT>
has changed its name to <TT>STATE_FILE</TT>.

<P>
</LI>
</UL>

<P>
Bugs Fixed:

<P>

<UL>
<LI><U><I>Security Item</I></U>: A flaw was found and fixed that could allow an unauthenticated
user to cause Condor daemons to shut down,
and could allow running jobs to be removed from the queue.

<P>
</LI>
<LI>Fixed a bug that caused <I>condor_dagman</I> to stay in the Condor
queue, if <I>condor_dagman</I> was accidentally submitted with an empty DAG
input file.

<P>
</LI>
<LI><I>condor_submit_dag</I> now generates a <TT>.condor.sub</TT> file with
the submit description file command <B>copy_to_spool</B>
set to <TT>True</TT>, to ease version upgrades while
large DAGs are running.

<P>
</LI>
<LI>Fixed a problem in the <I>condor_startd</I> when using
<TT>STARTD_SLOT_EXPRS</TT> for attributes that are sometimes
present and sometimes absent from the machine ClassAd.  This is most
typical of attributes that enter the machine ClassAd from the job, via
<TT>STARTD_JOB_EXPRS</TT>.  When the attribute went away from slot X
(for example, because the job on slot X finished), the corresponding
<TT>SlotX_&lt;AttributeName&gt;</TT> attribute was not reliably removed from
all of the other slots.

<P>
</LI>
<LI>Removed some redundant information from the <I>condor_startd</I> 
advertisements to the <I>condor_collector</I>, 
from within the private ClassAd that is not user-visible.
This fix reduces UDP traffic and memory usage generated by
the <I>condor_startd</I> by about 20% in the <I>condor_collector</I> and <I>condor_negotiator</I> daemons.

<P>
</LI>
<LI>Fixed the <I>condor_master</I> daemon to correctly preserve all command-line
arguments when restarting itself.  In some cases, not preserving <TT>argv[0]</TT>
confused external utilities that monitor the <I>condor_master</I> process by looking
at the output of <I>ps</I> or similar programs.  Also, not preserving
<B>-pid</B> and <B>-runfor</B> could cause unexpected behavior.

<P>
</LI>
<LI>Fixed a bug that exhibited itself when
the configuration variable <TT>NEGOTIATOR_CONSIDER_PREEMPTION</TT>
was set to <TT>False</TT>, in which jobs
would not be matched to slots in the backfill state.  Corrected, slots doing
backfill are included in the matchmaking process.

<P>
</LI>
<LI>The <I>condor_job_router</I> did not work while managing jobs from
multiple users when read access to the <I>condor_schedd</I> required
authentication.  The <I>condor_job_router</I> was also not able to use
authentication methods other than FS.  Now it can use any
authentication method, as long as the resulting identity is listed in
the configuration variable
<TT>QUEUE_SUPER_USERS</TT> or the <I>condor_job_router</I> and
<I>condor_schedd</I> are running as a Personal Condor in non-root mode.

<P>
</LI>
<LI>Fixed a bug in the <I>condor_schedd</I> daemon that could cause it to write
  an incorrect Unique ID to the event log's header.

<P>
</LI>
<LI>Fixed a bug in the user log reader API that could cause it to
  incorrectly return a ULOG_NO_EVENT in rare cases.

<P>
</LI>
<LI>Fixed a bug in the user log reader API that could cause it to
  crash if the application attempted to re-initialize the ReadUserLog
  object.  The code now detects this condition, and returns an error
  when the application attempts to re-initialization an already
  initialized ReadUserLog object.

<P>
</LI>
<LI>Fixed a bug that limited the size of <TT>stdin</TT>, <TT>stdout</TT>,
and <TT>stderr</TT> files in the vanilla universe to 2GBytes.

<P>
</LI>
<LI>Fixed a bug that could cause the <I>condor_starter</I> to EXCEPT upon 
completion or eviction of a <B>vm</B> universe job.
The error message that appeared in the <TT>StarterLog</TT> file was
<PRE>
  Write_Pipe: invalid pipe end
</PRE>

<P>
</LI>
<LI>When a held job is removed, the values of the attributes
<TT>HoldReason</TT>, <TT>HoldReasonCode</TT> and <TT>HoldReasonSubCode</TT>
are moved to <TT>LastHoldReason</TT>, <TT>LastHoldReasonCode</TT> and
<TT>LastHoldReasonSubCode</TT>. Before, a hold reason could be lost if a
removed job was subsequently held.

<P>
</LI>
<LI>The executable attribute for amazon grid universe jobs no longer
needs to be a valid file path.

<P>
</LI>
<LI>Improved error reporting when a Xen or VMware command fails in the
<B>vm</B> universe.

<P>
</LI>
<LI>For <B>vm</B> universe jobs,
virtual floppy disks are no longer disabled.

<P>
</LI>
<LI>Fixed a bug introduced in Condor 7.1.4 that caused Condor to
ignore the virtual machine status reported by Xen in the <B>vm</B> universe.

<P>
</LI>
<LI>Fixed a 20-second delay in the start up of the <I>condor_c-gahp</I> and
the <I>condor_vm-gahp</I>.

<P>
</LI>
<LI>Fixed a bug which caused the net mask to be published
  into the machine ClassAd incorrectly.

<P>
</LI>
<LI>Fixed a bug introduced in Condor 7.1.4 which could cause any
  Condor daemon to crash if the level of debugging output <TT>D_ALL</TT>
  is enabled when a <I>condor_reconfig</I> command is issued.

<P>
</LI>
<LI>Fixed a bug introduced in Condor 7.1.4 which caused standard universe
jobs to fail to start up, if security authentication, but not encryption was
enabled between the submit side and the execute side.

<P>
</LI>
<LI>Fixed a bug with streaming <TT>stdin</TT>, <TT>stdout</TT>, and
<TT>stderr</TT> when using <I>glexec</I>.

<P>
</LI>
</UL>

<P>
Known Bugs:

<P>

<UL>
<LI>None.

<P>
</LI>
</UL>

<P>
Additions and Changes to the Manual:

<P>

<UL>
<LI>Initial documentation for dynamic provisioning is available
in section&nbsp; <A HREF="3_13Setting_Up.html#sec:SMP-dynamicprovisioning">3.13.9</A>.

<P>
</LI>
<LI>Documentation for Kerberos authentication
(see section&nbsp; <A HREF="3_6Security.html#sec:Kerberos-Authentication">3.6.3</A>)
and associated configuration variables has been updated.

<P>
</LI>
</UL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2279"
  HREF="8_6Development_Release.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2273"
  HREF="8_Version_History.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2267"
  HREF="8_4Development_Release.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2275"
  HREF="Contents.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2277"
  HREF="Index.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html2280"
  HREF="8_6Development_Release.html">8.6 Development Release Series</A>
<B> Up:</B> <A NAME="tex2html2274"
  HREF="8_Version_History.html">8. Version History and</A>
<B> Previous:</B> <A NAME="tex2html2268"
  HREF="8_4Development_Release.html">8.4 Development Release Series</A>
 &nbsp; <B>  <A NAME="tex2html2276"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html2278"
  HREF="Index.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
condor-admin@cs.wisc.edu
</ADDRESS>
</BODY>
</HTML>
