<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>set</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE=" Kvm Users Guide "
HREF="index.html"><LINK
REL="UP"
TITLE="Command Reference"
HREF="c526.html"><LINK
REL="PREVIOUS"
TITLE="save"
HREF="x1155.html"><LINK
REL="NEXT"
TITLE="start"
HREF="x1374.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="rocks.css"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><B
CLASS="COMMAND"
>Kvm</B
> Users Guide: 		<SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="images/kvmbanner.png"></SPAN
>
	</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1155.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Command Reference</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1374.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="AEN1180"
>4.13. set</A
></H1
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="ROCKS-SET-CLUSTER-POWER"
>4.13.1. set cluster power</A
></H2
><P
><B
CLASS="COMMAND"
>rocks set cluster power</B
>  {host} [action=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [delay=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] {key=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>}</P
><P
>&#13;	Turn the power on or off for each client host in a virtual cluster.
	This command will *not* affect a virtual frontend.

	</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>arguments</B
></P
><DL
><DT
>host</DT
><DD
><P
>&#13;	The host name of a virtual frontend.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>parameters</B
></P
><DL
><DT
>[<SPAN
CLASS="OPTIONAL"
>action=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The power setting. This must be one of 'on', 'off' or 'install'.
	The 'install' action will turn the power on and force the host to
	install.
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>delay=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	Sets the time (in seconds) to delay between each power command.
	Default is '1'.
	
	</P
></DD
><DT
>key=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></DT
><DD
><P
>&#13;	A private key that will be used to authenticate the request. This
        should be a file name that contains the private key.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>examples</B
></P
><DL
><DT
>$ rocks set cluster power frontend-0-0-0 action=on</DT
><DD
><P
>&#13;	Turn on the power for each client node that is associated with
	frontend-0-0-0.
	
	</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="ROCKS-SET-HOST-INTERFACE-DISABLEKVM"
>4.13.2. set host interface disablekvm</A
></H2
><P
><B
CLASS="COMMAND"
>rocks set host interface disablekvm</B
>  {host} {iface} [disablekvm=<TT
CLASS="REPLACEABLE"
><I
>bool</I
></TT
>] [disablekvm=<TT
CLASS="REPLACEABLE"
><I
>bool</I
></TT
>] [iface=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>]</P
><P
>&#13;	Change the disablekvm interface flag. This flag is used to disable the
	automatic generation of KVM bridged configuration when starting a 
	viratul machine. If a given interface has this flag true it will not 
	appear on the host at the first restart.
	This functionality can be used in conjunction with the plugins of 
	rocks report host vm config 

	</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>arguments</B
></P
><DL
><DT
>host</DT
><DD
><P
>&#13;	One or more VM host names.
	
	</P
></DD
><DT
>iface</DT
><DD
><P
>&#13; 	Interface that should be updated. This may be a logical interface or 
 	the mac address of the interface.
 	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>parameters</B
></P
><DL
><DT
>[<SPAN
CLASS="OPTIONAL"
>disablekvm=<TT
CLASS="REPLACEABLE"
><I
>bool</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	Can be used in place of the disablekvm argument
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>disablekvm=<TT
CLASS="REPLACEABLE"
><I
>bool</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	If true it will disable kvm bridging
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>iface=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	Can be used in place of the iface argument.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>examples</B
></P
><DL
><DT
># rocks set host interface disablekvm compute-0-0-0 ib0 true</DT
><DD
><P
>&#13;	Disable the automatic generation of ib0 for compute-0-0-0 in KVM
	
	</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="ROCKS-SET-HOST-VM"
>4.13.3. set host vm</A
></H2
><P
><B
CLASS="COMMAND"
>rocks set host vm</B
>  {host} [disk=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [disksize=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [mem=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [physnode=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [slice=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>] [virt-type=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>]</P
><P
>&#13;	Change the VM configuration for a specific VM.
	
	</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>arguments</B
></P
><DL
><DT
>host</DT
><DD
><P
>&#13;	One or more VM host names.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>parameters</B
></P
><DL
><DT
>[<SPAN
CLASS="OPTIONAL"
>disk=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	A VM disk specification. More than one disk can be supplied. Each
	disk specification must separated by a space.
	For more information on the disk format please look at the:
	rocks add host vm help
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>disksize=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The size of the VM disk in gigabytes. If more than one disk is
	supplied the sizes should be separated by space.
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>mem=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The amount of memory in megabytes to assign to this VM.
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>physnode=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The physical machine this VM should run on.
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>slice=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The slice ID for this VM.
	
	</P
></DD
><DT
>[<SPAN
CLASS="OPTIONAL"
>virt-type=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	Set the virtualization type for this VM. This can be 'para' or
	'hvm'.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>examples</B
></P
><DL
><DT
># rocks set host vm compute-0-0-0 mem=4096</DT
><DD
><P
>&#13;	Change the memory allocation for VM compute-0-0-0 to 4 GB.
	
	</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="ROCKS-SET-HOST-VM-CDROM"
>4.13.4. set host vm cdrom</A
></H2
><P
><B
CLASS="COMMAND"
>rocks set host vm cdrom</B
>  {host} [cdrom=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
>]</P
><P
>&#13;	Add a CDROM image to the virtual machine specified.
	The machine must be restarted to make this effective

	</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>arguments</B
></P
><DL
><DT
>host</DT
><DD
><P
>&#13;	One or more VM host names.
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>parameters</B
></P
><DL
><DT
>[<SPAN
CLASS="OPTIONAL"
>cdrom=<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
></SPAN
>]</DT
><DD
><P
>&#13;	The path to the ISO image to use as a CDROM of the physical device 
	path (/dev/cdrom)
	if it is cdrom=none, it will remove the cdrom image from the current disks
	
	</P
></DD
></DL
></DIV
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
>examples</B
></P
><DL
><DT
># rocks set host vm cdrom compute-0-0-0 cdrom=/root/kernel-6.1-0.x86_64.disk1.iso</DT
><DD
><P
>&#13;	Mount the ISO /root/kernel-6.1-0.x86_64.disk1.iso as a CDROM
	
	</P
></DD
><DT
># rocks set host vm cdrom compute-0-0-0 cdrom=none</DT
><DD
><P
>&#13;	Remove the CDROM from node compute-0-0-0
	
	</P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1155.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1374.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>save</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c526.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>start</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>