---
layout: post
title: Bash Vulnerability in CentOS
date: 2014-09-24 20:24:43.000000000 -07:00
categories:
- "new" 
- "2014" 
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
author:
  login: admin
  email: ppapadopoulos@ucsd.edu
  display_name: admin
  first_name: ''
  last_name: ''
---
<p>Dear Rocks Community,<br />
There is a particularly troublesome vulnerability in bash for which RedHat and CentOS published fixes today (24 Sep 2014).</p>
<p>The description of the bug can be found at the following URLs<br />
<a href="https://securityblog.redhat.com/2014/09/24/bash-specially-crafted-environment-variables-code-injection-attack/">https://securityblog.redhat.com/2014/09/24/bash-specially-crafted-environment-variables-code-injection-attack/</a><br />
<a href="https://access.redhat.com/security/cve/CVE-2014-6271">https://access.redhat.com/security/cve/CVE-2014-6271</a><br />
<a href="http://seclists.org/oss-sec/2014/q3/650">http://seclists.org/oss-sec/2014/q3/650</a></p>
<p>The following recipe should enable you to update every node in your cluster. This is tested on Rocks 6.1 and 6.1.1.<br />
On your frontend:<br />
on 6.1:</p>
<p><code>yumdownloader --enablerepo=updates --destdir=/export/rocks/install/contrib/6.1/x86_64/RPMS/ bash</code></p>
<p>on 6.1.1:<br />
<code>yumdownloader --enablerepo=updates --destdir=/export/rocks/install/contrib/6.1.1/x86_64/RPMS/ bash</code></p>
<p>Then,<br />
<code>cd /export/rocks/install<br />
rocks create distro<br />
rocks run host % "yum clean all; yum -y update bash"</code></p>
<p>Notes:</p>
<ol>
<li> the run host command will attempt to run on all hosts (even if you have switches). You can be more precise if you just have a frontend and compute nodes with rocks run host frontend compute <code>"yum clean all; yum update bash"</code></li>
<li>the version of the bash rpm should be bash-4.1.2-15.el6_5.1.x86_64.rpm.  Note the _5 in the version name. The build date is 24 Sep 2014.</li>
<li>by copying the updated rpm into your distro, any future re-installs of nodes will automatically install the correct version.</li>
</ol>
